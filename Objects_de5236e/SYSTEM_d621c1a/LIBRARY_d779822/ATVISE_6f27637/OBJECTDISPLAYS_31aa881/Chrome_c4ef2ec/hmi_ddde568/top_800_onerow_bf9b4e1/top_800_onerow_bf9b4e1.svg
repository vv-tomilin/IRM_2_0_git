<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg width="800" xmlns:xlink="http://www.w3.org/1999/xlink" height="50" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" version="1.2">
 <defs>
  <linearGradient gradientUnits="objectBoundingBox" y2="1.10539" id="linear_21" x1="-0.0150911" y1="-7.18755e-05" x2="-0.0150911">
   <stop offset="0.462882096069869" stop-color="#cfcfcf"/>
   <stop offset="1" stop-color="#000000"/>
  </linearGradient>
 </defs>
 <desc>A minimal version of the default "top" display (e.g. for panel screens).</desc>
 <title>Topframe one row</title>
 <metadata>
  <atv:gridconfig width="10" height="10" enabled="true" gridstyle="lines"/>
  <atv:snapconfig width="5" height="5" enabled="true"/>
 </metadata>
 <path fill="#000088" d="M0,0" id="id_33" atv:refpx="355.987" atv:refpy="59.436" stroke-width="2" stroke="#0000ff"/>
 <path fill="url(#linear_21)" d="M800,30.165C800,30.165 800,50 780.024,50C760.049,50 19.975,50 19.975,50C19.975,50 0,50 0,30.165C0,10.332 0,0 0,0C0,0 800,0 800,0C800,0 800,30.165 800,30.165" id="id_10" atv:refpx="639.201" atv:refpy="59.501" stroke-width="1" stroke="#c8c8c8"/>
 <svg width="160" height="45" id="id_22" x="35" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Chrome.hmi.button_group_display" atv:refpx="115" y="2.5" atv:refpy="25">
  <atv:argument value="#000000" name="symbolColor"/>
  <atv:argument value="#ffffff" name="symbolColor2"/>
 </svg>
 <svg width="30" height="30" id="id_11" x="320" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Chrome.hmi.button_login" atv:refpx="502.498" y="1.667" atv:refpy="24.999" transform="matrix(1.5,0,0,1.5,0,0)">
  <atv:overwrite width="37.5" height="37.5" id="button_stroke" transform="matrix(0.6667,0,0,0.6667,0,0)"/>
  <atv:overwrite id="button_symbol" x="12.5" y="12.5" transform="matrix(0.6667,0,0,0.6667,0,0)"/>
  <atv:overwrite id="button_symbol_pressed" x="12.5" y="12.5" transform="matrix(0.6667,0,0,0.6667,0,0)"/>
  <atv:overwrite width="37.5" height="37.5" id="button_bg" transform="matrix(0.6667,0,0,0.6667,0,0)"/>
  <atv:overwrite width="39.5" height="39.5" id="id_3" transform="matrix(0.6667,0,0,0.6667,0,0)"/>
  <atv:overwrite width="44.5" height="44.5" id="id_0" transform="matrix(0.6667,0,0,0.6667,0,0)"/>
 </svg>
 <svg width="45" height="45" id="id_12" x="420" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Chrome.hmi.button_switch_language" atv:refpx="442.5" y="2.5" atv:refpy="25">
  <atv:argument value="#ffffff" name="symbolColor"/>
 </svg>
 <rect ry="5" width="194.5" fill="#000000" height="40" id="id_5" rx="5" x="210.5" atv:refpx="865.301" y="5" atv:refpy="32.413" stroke-width="1" stroke="#b1b1b1"/>
 <text text-anchor="end" fill="#ffffff" id="username_label" x="396.231" font-weight="bold" atv:refpx="75.207" font-family="Courier New" font-size="14" y="20" atv:refpy="-62.261"/>
 <text fill="#ffffff" id="id_20" x="262.231" font-weight="bold" atv:refpx="-1499.827" font-family="Courier New" font-size="14" y="20" atv:refpy="-269.5">T{User}:</text>
 <text text-anchor="end" fill="#ffffff" id="language_label" x="396.231" font-weight="bold" atv:refpx="-777.066" font-family="Courier New" font-size="14" y="38" atv:refpy="-44.261">T{}</text>
 <text fill="#ffffff" id="id_25" x="262.231" font-weight="bold" atv:refpx="-1708.444" font-family="Courier New" font-size="14" y="38" atv:refpy="-71.5">T{Language}:</text>
 <g atv:refpx="233.02" atv:refpy="25.039" id="logo_clickarea">
  <svg width="80" x="704.473" atv:refpx="232.976" y="40.06" atv:refpy="24.997" transform="matrix(0.313,0,0,0.313,0,0)" height="80" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Symbols.atvise_logo" id="atvise_logo"/>
  <rect stroke-width="0" fill="#000000" width="25" x="220.5" atv:refpx="247.6" fill-opacity="0.0001" y="12.5" atv:refpy="39.6" stroke="none" height="25" id="logo_click"/>
 </g>
 <g atv:refpx="690.898" atv:refpy="25.585" transform="matrix(1,0,0,1,-479.16,-69.828)" visibility="hidden" id="redu_info">
  <g atv:refpx="1141.471" atv:refpy="97.989" transform="matrix(1,0,0,1,-0.9122,0.5935)" id="id_36">
   <text fill="#d4d4d4" x="1133.387" atv:refpx="1154.387" font-size="8" text-anchor="start" y="89.235" atv:refpy="85.735" font-family="Arial" id="id_31">T{STATUS}:</text>
   <text fill="#d4d4d4" x="1133.387" atv:refpx="1151.887" font-size="14" text-anchor="start" y="105.235" atv:refpy="101.735" font-family="Arial" font-weight="bold" id="redu_status"/>
  </g>
  <text fill="#d4d4d4" id="redu_role" x="1103.16" font-weight="bold" atv:refpx="1101.888" font-family="Arial" font-size="30" y="104.828" atv:refpy="100.328"/>
  <svg width="80" height="30" id="id_43" x="2124.95" xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Chrome.button_open_display" atv:refpx="1217.783" y="48.667" atv:refpy="95.501" transform="matrix(0.5625,0,0,1.5,0,0)">
   <atv:argument value="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Chrome.redundancy.status" name="display"/>
   <atv:argument value="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Symbols.20x20.info" name="symbol"/>
   <atv:argument value="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Symbols.20x20.info" name="symbolPressed"/>
   <atv:argument value="#ffffff" name="symbolColor"/>
   <atv:argument value="hidden" name="visibilityLabel"/>
   <atv:argument value="inherit" name="visibilitySymbol"/>
   <atv:argument value="-999999" name="tabIndex"/>
   <atv:overwrite id="button_symbol_pressed" x="12.5" y="12.5" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
   <atv:overwrite width="37" height="37" id="button_stroke" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
   <atv:overwrite id="button_label" x="22.5" y="27" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
   <atv:overwrite id="button_symbol" x="12.5" y="12.5" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
   <atv:overwrite width="37" height="37" id="button_bg" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
   <atv:overwrite width="39.5" height="39.5" id="id_2" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
   <atv:overwrite width="44.5" height="44.5" id="id_0" transform="matrix(1.7778,0,0,0.6667,0,0)"/>
  </svg>
 </g>
 <script type="text/ecmascript"><![CDATA[var tabHandler = webMI.callExtension("SYSTEM.LIBRARY.ATVISE.QUICKDYNAMICS.Tab Handler");

webMI.addEvent("logo_clickarea", "click", function(e) {
var id = "logo_clickarea";
var value = true;
return function(value) {
	var names = tabHandler.getParentIFrameNames();
	for (var i=0;i<names.length;i++){
		var NN;
		webMI.trigger.fire("com.atvise.getDefaultDisplay_"+(NN=names[i]),function(display,url){
			if (url != undefined)
				webMI.display.openUrl(url, webMI.query,NN);
			else if (display != undefined)
				webMI.display.openDisplay(display, webMI.query,NN);
		});
	}
} (value);
});

webMI.addEvent(webMI.data, "clientvariableschange", function(e) {
	webMI.gfx.setText("username_label", (e.username) ? e.username : "");
});

webMI.addOnload(function() {
	var reduinfoInitialized = false;
	webMI.addEvent(webMI.data, "serverstatechange", function() {
		if (reduinfoInitialized)
			return;

		reduinfoInitialized = true;
		webMI.callExtension("SYSTEM.LIBRARY.ATVISE.QUICKDYNAMICS.Redundancy PopUp", {"display":"SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Chrome.redundancy.warning_dialog"});
		webMI.gfx.setVisible("redu_info", null);
		webMI.data.subscribe("AGENT.REDUNDANCY.role", function(e) {
			webMI.gfx.setText("redu_role", e.value.charAt(0));
		});

		webMI.data.subscribe("AGENT.REDUNDANCY.status", function(e) {
			e.value = getStatusTranslation(e.value);
			webMI.gfx.setText("redu_status", e.value);
		});
	});
});


function getStatusTranslation(text) {
	var statustext;
	switch(text) {
		case "Active":
			statustext = "T{Active}";
			break;
		case "Passive":
			statustext = "T{Passive}";
			break;
		case "SOP":
			statustext = "T{SOP}";
			break;
		case "SNOP":
			statustext = "T{SNOP}";
			break;
		default:
			statustext = text;
	}

	return statustext;
}

]]></script>
</svg>
