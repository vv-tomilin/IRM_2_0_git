<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" version="1.2" height="300">
 <defs>
  <linearGradient x2="0" gradientUnits="objectBoundingBox" id="linear_2" y2="1.07843" y1="0" x1="0">
   <stop offset="0" stop-color="#818181"/>
   <stop offset="0.8475336322869955" stop-color="#464646"/>
   <stop offset="0.9372197309417041" stop-color="#000000"/>
  </linearGradient>
 </defs>
 <desc>Small display variant</desc>
 <title>Configuration - General</title>
 <metadata>
  <atv:parameter name="fontColor" valuetype="global" desc="font color" defaultvalue="SYSTEM.GLOBALS.atvFontColor" substitute="$FONTCOLOR$" behavior="optional"/>
  <atv:parameter name="fillColor" valuetype="global" desc="fill color" defaultvalue="SYSTEM.GLOBALS.atvFillColor" substitute="$FILLCOLOR$" behavior="optional"/>
  <atv:gridconfig width="20" enabled="true" height="20" gridstyle="lines"/>
  <atv:snapconfig width="5" enabled="true" height="5"/>
 </metadata>
 <text x="19.5" text-anchor="start" font-weight="bold" fill="$FONTCOLOR$" font-family="Arial" y="28" atv:refpy="23.5" atv:refpx="88.039" id="id_5" font-size="12">T{General configuration}:</text>
 <text x="160.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="107" atv:refpy="102.5" atv:refpx="93" id="id_7" font-size="12">T{Measurement marker}:</text>
 <text x="161.336" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="174" atv:refpy="169.5" atv:refpx="131.336" id="id_9" font-size="12">T{Tooltips}:</text>
 <text x="160.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="209" atv:refpy="204.5" atv:refpx="117.5" id="id_10" font-size="12">T{Export menu}:</text>
 <text x="160.5" text-anchor="end" visibility="hidden" fill="$FONTCOLOR$" font-family="Arial" y="279" atv:refpy="274.5" atv:refpx="118" id="id_11" font-size="12">T{Chart theme}:</text>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.combobox" x="141.944" visibility="hidden" y="260" atv:refpy="275" width="160" transform="matrix(1.2188,0,0,1,0,0)" atv:refpx="286.544" id="TODO" height="30">
  <atv:argument value="15" name="tabIndex"/>
  <atv:overwrite x="219.742" transform="matrix(0.6531,0,0,1,0,0)" id="id_3"/>
  <atv:overwrite x="217.492" transform="matrix(0.6531,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="212.992" transform="matrix(0.6531,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="244.492" transform="matrix(0.6531,0,0,1,0,0)" id="combobox_stroke"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="191" id="focus_frame"/>
  <atv:overwrite x="170" transform="matrix(0.8205,0,0,1,0,0)" id="button_stroke"/>
  <atv:overwrite x="170" transform="matrix(0.8205,0,0,1,0,0)" id="id_7"/>
  <atv:overwrite x="170" transform="matrix(0.8205,0,0,1,0,0)" id="button_bg"/>
  <atv:overwrite x="160.5" transform="matrix(0.8205,0,0,1,0,0)" id="combobox_label"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="163" id="blinking_frame"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="163" id="combobox_bg"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="193" id="id_1"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="195" id="id_0"/>
 </svg>
 <text x="413.5" text-anchor="start" font-weight="bold" fill="$FONTCOLOR$" font-family="Arial" y="28" atv:refpy="23.5" atv:refpx="456.232" id="id_32" font-size="12">T{Data source}:</text>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.combobox" x="340.234" y="51" atv:refpy="84" width="160" transform="matrix(1.5313,0,0,1,0,0)" atv:refpx="653.522" id="source" height="30">
  <atv:argument value="30" name="tabIndex"/>
  <atv:overwrite x="219.758" transform="matrix(0.653,0,0,1,0,0)" id="id_3"/>
  <atv:overwrite x="217.508" transform="matrix(0.653,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="213.008" transform="matrix(0.653,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="244.508" transform="matrix(0.653,0,0,1,0,0)" id="combobox_stroke"/>
  <atv:overwrite transform="matrix(0.653,0,0,1,0,0)" width="241.008" id="focus_frame"/>
  <atv:overwrite x="220.008" transform="matrix(0.653,0,0,1,0,0)" id="button_stroke"/>
  <atv:overwrite x="220.008" transform="matrix(0.653,0,0,1,0,0)" id="id_7"/>
  <atv:overwrite x="220.008" transform="matrix(0.653,0,0,1,0,0)" id="button_bg"/>
  <atv:overwrite x="210.508" transform="matrix(0.653,0,0,1,0,0)" id="combobox_label"/>
  <atv:overwrite transform="matrix(0.653,0,0,1,0,0)" width="213.008" id="blinking_frame"/>
  <atv:overwrite transform="matrix(0.653,0,0,1,0,0)" width="213.008" id="combobox_bg"/>
  <atv:overwrite transform="matrix(0.653,0,0,1,0,0)" width="243.008" id="id_1"/>
  <atv:overwrite transform="matrix(0.653,0,0,1,0,0)" width="245.008" id="id_0"/>
 </svg>
 <text x="501.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="70" atv:refpy="65.5" atv:refpx="459.5" id="id_34" font-size="12">T{Data source}:</text>
 <text x="501.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="107" atv:refpy="102.5" atv:refpx="462.5" id="id_35" font-size="12">T{Data mode}:</text>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.radiobutton" x="646" y="87" atv:refpy="100" width="160" atv:refpx="541.333" id="mode-live" height="30">
  <atv:argument value="mode" name="radiogroupId"/>
  <atv:argument value="live" name="value"/>
  <atv:argument value="T{live only}" name="label"/>
  <atv:argument value="32" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="radiobutton_bg2"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
  <atv:overwrite width="86" id="radiobutton_bg"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.radiobutton" x="521" y="121" atv:refpy="135" width="160" atv:refpx="373.666" id="mode-history" height="30">
  <atv:argument value="mode" name="radiogroupId"/>
  <atv:argument value="T{archive only}" name="label"/>
  <atv:argument value="archive" name="value"/>
  <atv:argument value="33" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="radiobutton_bg2"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
  <atv:overwrite width="86" id="radiobutton_bg"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.radiobutton" x="521" y="87" atv:refpy="99" width="160" atv:refpx="468" id="mode-mixed" height="30">
  <atv:argument value="mode" name="radiogroupId"/>
  <atv:argument value="T{mixed}" name="label"/>
  <atv:argument value="mixed" name="value"/>
  <atv:argument value="31" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="radiobutton_bg2"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
  <atv:overwrite width="86" id="radiobutton_bg"/>
 </svg>
 <text x="500.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="209" atv:refpy="204.5" atv:refpx="450" id="id_39" font-size="12">T{Downsampling}:</text>
 <text x="501.281" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="173" atv:refpy="168.5" atv:refpx="459.781" id="id_40" font-size="12">T{Time format}:</text>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.radiobutton" x="521" y="155" atv:refpy="185" width="160" atv:refpx="458" id="global_useUTC-false" height="30">
  <atv:argument value="global_useUTC" name="radiogroupId"/>
  <atv:argument value="T{local}" name="label"/>
  <atv:argument value="local" name="value"/>
  <atv:argument value="34" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="radiobutton_bg2"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
  <atv:overwrite width="86" id="radiobutton_bg"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.radiobutton" x="646" y="155" atv:refpy="185" width="160" atv:refpx="705" id="global_useUTC-true" height="30">
  <atv:argument value="global_useUTC" name="radiogroupId"/>
  <atv:argument value="T{UTC}" name="label"/>
  <atv:argument value="utc" name="value"/>
  <atv:argument value="35" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="radiobutton_bg2"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
  <atv:overwrite width="86" id="radiobutton_bg"/>
 </svg>
 <text x="418" text-anchor="start" fill="$FONTCOLOR$" font-family="Arial" y="234" atv:refpy="229.5" atv:refpx="617" id="id_45" font-size="9">(T{Temporary removement of datapoints which are not visible to the user}</text>
 <text x="418" text-anchor="start" fill="$FONTCOLOR$" font-family="Arial" y="249" atv:refpy="244.5" atv:refpx="539.5" id="id_46" font-size="9">T{at the given resolution of the screen/chart})</text>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.checkbox" x="173" y="86" atv:refpy="110" width="160" atv:refpx="121.667" id="marker1" height="30">
  <atv:argument value="true" name="valueOn"/>
  <atv:argument value="true" name="outputValueOn"/>
  <atv:argument value="false" name="outputValueOff"/>
  <atv:argument value="T{Marker 1}" name="label"/>
  <atv:argument value="11" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="checkbox_bg2"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.checkbox" x="173" y="121" atv:refpy="135" width="160" atv:refpx="80" id="marker2" height="30">
  <atv:argument value="true" name="valueOn"/>
  <atv:argument value="true" name="outputValueOn"/>
  <atv:argument value="false" name="outputValueOff"/>
  <atv:argument value="T{Marker 2}" name="label"/>
  <atv:argument value="12" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="checkbox_bg2"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.checkbox" x="173" y="155" atv:refpy="170" width="160" atv:refpx="126" id="tooltip_enabled" height="30">
  <atv:argument value="true" name="valueOn"/>
  <atv:argument value="true" name="outputValueOn"/>
  <atv:argument value="false" name="outputValueOff"/>
  <atv:argument value="T{visible}" name="label"/>
  <atv:argument value="13" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="checkbox_bg2"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.checkbox" x="173" y="190" atv:refpy="205" width="160" atv:refpx="126" id="exporting_enabled" height="30">
  <atv:argument value="true" name="valueOn"/>
  <atv:argument value="true" name="outputValueOn"/>
  <atv:argument value="false" name="outputValueOff"/>
  <atv:argument value="T{visible}" name="label"/>
  <atv:argument value="14" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="checkbox_bg2"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.checkbox" x="521" y="190" atv:refpy="220" width="160" atv:refpx="458" id="downsampling" height="30">
  <atv:argument value="true" name="valueOn"/>
  <atv:argument value="true" name="outputValueOn"/>
  <atv:argument value="false" name="outputValueOff"/>
  <atv:argument value="T{enabled}" name="label"/>
  <atv:argument value="52" name="tabIndex"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="checkbox_bg2"/>
  <atv:overwrite transform="matrix(1.3333,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite width="88" transform="matrix(1.3333,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite width="119.5" transform="matrix(1.3333,0,0,1,0,0)" id="id_0"/>
 </svg>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.in_out_value" x="141.95" y="50" atv:refpy="75" width="160" transform="matrix(1.2187,0,0,1,0,0)" atv:refpx="282.513" id="title_text" height="30">
  <atv:argument value="String" name="validation"/>
  <atv:overwrite width="239.5" transform="matrix(0.6531,0,0,1,0,0)" id="id_2"/>
  <atv:overwrite x="187.054" transform="matrix(0.8205,0,0,1,0,0)" id="input_label"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="186.999" id="blinking_frame"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="190.999" id="focus_frame"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="186.999" id="input_bg"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="192.999" id="id_1"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="194.999" id="id_0"/>
 </svg>
 <text x="160.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="70" atv:refpy="65.5" atv:refpx="126" id="id_6" font-size="12">T{Chart title}:</text>
 <text x="160.5" text-anchor="end" fill="$FONTCOLOR$" font-family="Arial" y="244" atv:refpy="239.5" atv:refpx="97.5" id="id_1" font-size="12">T{Update interval} [ms]:</text>
 <svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.rocker_switch_horizontal" x="141.949" y="225" atv:refpy="240" width="160" transform="matrix(1.2187,0,0,1,0,0)" atv:refpx="309.648" id="interval" height="30">
  <atv:argument value="1" name="min"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,28.7179,0)" id="icon_plus"/>
  <atv:overwrite x="156" transform="matrix(0.8205,0,0,1,0,0)" id="inc_stroke"/>
  <atv:overwrite x="156" transform="matrix(0.8205,0,0,1,0,0)" id="inc_bg"/>
  <atv:overwrite x="155" transform="matrix(0.8205,0,0,1,0,0)" id="id_5"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" id="icon_minus"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" id="dec_stroke"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" id="dec_bg"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" id="id_20"/>
  <atv:overwrite x="97.5" transform="matrix(0.8205,0,0,1,0,0)" id="input_label"/>
  <atv:overwrite x="79" transform="matrix(0.8205,0,0,1,0,0)" id="blinking_frame"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="107" id="input_field_widget"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="112" id="focus_frame"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="113" id="input_bg"/>
  <atv:overwrite transform="matrix(0.8205,0,0,1,0,0)" width="115" id="id_19"/>
 </svg>
 <text x="419" text-anchor="start" font-family="Arial" fill="$FONTCOLOR$" y="264" atv:refpy="259.5" atv:refpx="587.183" id="id_8" font-size="9">T{Note: May require reload of the chart to be applied correctly.}</text>
 <text x="525" font-weight="bold" fill="$FONTCOLOR$" font-family="Arial" y="210" atv:refpy="205.5" atv:refpx="599" id="boosting" font-size="12">T{Triggerd by Boost-Modul}</text>
 <script type="text/ecmascript"><![CDATA[var inputDefaults = {
	"title_text": "",
	"tooltip_enabled": true,
	"exporting_enabled": true,
	"chartTheme": "",
	"source": "atvise",
	"mode-live": "T{live only}",
	"mode-history": "T{archive only}",
	"mode-mixed": "T{mixed}",
	"global_useUTC-true": "T{UTC}",
	"global_useUTC-false": "T{local}",
	"disableDownSampling": false
};

var activeSeries = webMI.query.activeSeries;
var triggerEnabled = false;
var updateEnabled = true;

var chartname = webMI.query.chartname;
var chart = webMI.trendFactory.getTrendByName(chartname);
var configHandler = new webMI.rootWindow.ConfigHandler;
var highcharts = chart.chart.renderTo.ownerDocument.defaultView["Highcharts"];
var boostEnabled = false;

if(typeof chart.chart.options.boost != "undefined") {
	if(chart.chart.options.boost.enabled) {
		boostEnabled = chart.chart.options.boost.enabled;
	}
}

webMI.addOnload(function() {

    // get datasources an fill box
	var sources = chart.control.getRegisteredSources();
	for (var i = 0; i < sources.length; i++)
		webMI.trigger.fire("addItem", {text: sources[i], value: sources[i]}, "source");
	webMI.trigger.fire("setSelectedItem", chart.chart.options.atviseOptions.source, "source");

	readOptions();

	var updateCb = chart.control.registerOnUpdatedCallback(function() {
		if (!updateEnabled)
			return;

		readOptions();
	});

	if(boostEnabled) {
		webMI.gfx.setVisible("downsampling", false);
	} else {
		webMI.gfx.setVisible("boosting", false);
	}

	webMI.addOnunload(function() {
		if (chart && chart.control) chart.control.unregisterOnUpdatedCallback(updateCb);
	});

});

//Read options
function readOptions() {
	triggerEnabled = false;

	if ((!chart.chart.title || typeof chart.chart.title.textStr == "undefined") && inputDefaults["title_text"] != "")
		setOptions("title_text", inputDefaults["title_text"]);

	if (chart.chart.title && chart.chart.title.textStr)
		webMI.trigger.fire("setValue", chart.chart.title.textStr, "title_text");

	var marker1 = chart.control.isMeasuringCursor1Visible();
	var marker2 = chart.control.isMeasuringCursor2Visible();
	webMI.trigger.fire("setChecked", marker1, "marker1");
	webMI.trigger.fire("setChecked", marker2, "marker2");

	webMI.trigger.fire("setChecked", chart.chart.tooltip.options.enabled, "tooltip_enabled");

	if (chart.chart.options.exporting && typeof chart.chart.options.exporting.enabled == "undefined")
		webMI.trigger.fire("setChecked", inputDefaults["exporting_enabled"], "exporting_enabled");
	else if (!chart.chart.options.exporting)
		webMI.trigger.fire("setChecked", false, "exporting_enabled");
	else
		webMI.trigger.fire("setChecked", chart.chart.options.exporting.enabled, "exporting_enabled");

	webMI.trigger.fire("setValue", Math.round(1 / chart.chart.options.atviseOptions.liveModeFrameRate * 1000), "interval");

    // source
    webMI.trigger.fire("setSelectedItem", chart.chart.options.atviseOptions.source, "source");
	webMI.trigger.fire("radioClicked_mode", {name: inputDefaults["mode-" + chart.chart.options.atviseOptions.mode]});
	var options = highcharts.getOptions();
	webMI.trigger.fire("radioClicked_global_useUTC", {name: inputDefaults["global_useUTC-" + options.global.useUTC]});
	webMI.trigger.fire("setChecked", !chart.chart.options.atviseOptions.disableDownSampling, "downsampling");

	triggerEnabled = true;
}

//Write options
function setOptions(key, value) {
	if (value == "true") value = true;
	else if (value == "false") value = false;

	var optionsObj = configHandler.createConfigObject(key, value);
	chart.chart.update(optionsObj);
	updateEnabled = false;
	chart.control.updated(function() {
		updateEnabled = true;
	});
}

function changeMode(mode) {
	if (!triggerEnabled)
		return;

	chart.chart.options.atviseOptions.mode = mode;
	updateEnabled = false;
	chart.control.updated(function() {
		updateEnabled = true;
	});
}

//Triggers for every input element
//TODO: Triggers for chartthemes

webMI.trigger.connect("valuechanged", function(e){ processInput("title_text", e.value) }, "title_text");

webMI.trigger.connect("valuechanged", function(e){
	if (!triggerEnabled)
		return;

	if(e.value == "true")
		chart.control.showMeasuringCursor1();
	else
		chart.control.hideMeasuringCursor1();
 }, "marker1");

webMI.trigger.connect("valuechanged", function(e){
	if (!triggerEnabled)
		return;

	if(e.value == "true")
		chart.control.showMeasuringCursor2();
	else
		chart.control.hideMeasuringCursor2();
 }, "marker2");

webMI.trigger.connect("valuechanged", function(e){
	if (!triggerEnabled)
		return;

	var value = (e.value == "true") ? true : false;
	chart.chart.tooltip.update({enabled: value});

	//Set tooltip options for each configured series
	var i = 0;
	while (typeof chart.chart.series[i] != "undefined") {
		chart.chart.series[i].update({tooltip: {enabled: value}});
		i++;
	}

	updateEnabled = false;
	chart.control.updated(function() {
		updateEnabled = true;
	});
 }, "tooltip_enabled");

webMI.trigger.connect("valuechanged", function(e){ processInput("exporting_enabled", e.value) }, "exporting_enabled");

webMI.trigger.connect("valuechanged", function(e){
	if (!triggerEnabled)
		return;

	chart.chart.options.atviseOptions.liveModeFrameRate = 1000 / e.value;

	if (chart.control.isLiveModeRunning()) {
		chart.control.stopLiveMode(function() {
		    chart.control.startLiveMode();
		});
	}

	updateEnabled = false;
	chart.control.updated(function() {
		updateEnabled = true;
	});
}, "interval");

webMI.trigger.connect("valuechanged", function(e){
	if (!triggerEnabled)
		return;

	chart.chart.options.atviseOptions.source = e.value;
	updateEnabled = false;
	chart.control.updated(function() {
		updateEnabled = true;
	});
}, "source");

webMI.trigger.connect("valuechanged", function(e){ changeMode("live") }, "mode-live");
webMI.trigger.connect("valuechanged", function(e){ changeMode("history") }, "mode-history");
webMI.trigger.connect("valuechanged", function(e){ changeMode("mixed") }, "mode-mixed");
webMI.trigger.connect("valuechanged", function(e){ highcharts.setOptions({global: {useUTC: true}}) }, "global_useUTC-true");
webMI.trigger.connect("valuechanged", function(e){ highcharts.setOptions({global: {useUTC: false}}) }, "global_useUTC-false");

webMI.trigger.connect("valuechanged", function(e){
	if (!triggerEnabled)
		return;

	chart.chart.options.atviseOptions.disableDownSampling = (e.value == "false") ? true : false;
	updateEnabled = false;
	chart.control.updated(function() {
		updateEnabled = true;
	});
}, "downsampling");

function processInput(key, value) {
	if (typeof key == "undefined" || typeof value == "undefined")
		return;

	if (!triggerEnabled)
		return;

	setOptions(key, value);
}
]]></script>
 <line x2="390" atv:refpy="152" stroke-width="0.5" atv:refpx="390" id="id_12" y2="292" y1="12" stroke="#d7d7d7" x1="390"/>
</svg>
