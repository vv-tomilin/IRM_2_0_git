<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" height="540" version="1.2" width="900" xmlns:xlink="http://www.w3.org/1999/xlink">
	<defs/>
	<desc>Adjustable dialog for showing messages.</desc>
	<title>Message dialog</title>
	<metadata>
		<atv:parameter defaultvalue="Headline" name="headline" desc="text of headline" valuetype="string" substitute="$HEADLINE$" behavior="optional" group="Headline"/>
		<atv:parameter defaultvalue="Arial" name="headlineFontFamily" desc="font family" valuetype="enum" behavior="optional" config="Times New Roman=Times New Roman,Bodoni,Garamond,Minion Web,ITC Stone Serif,MS Georgia,Bitstream Cyberbit,serif;Arial=MS Trebuchet,ITC Avant Garde Gothic,MS Arial,MS Verdana,Univers,Futura,ITC Stone Sans,Gill Sans,Akzidenz Grotesk,Helvetica,sans-serif;Courier=Courier,MS Courier New,Prestige,Everson Mono,monospace;Zapf-Chancery=Caflisch Script,Adobe Poetica,Sanvito,Ex Ponto,Snell Roundhand,Zapf-Chancery,cursive;Alpha Geometrique=Alpha Geometrique,Critter,Cottonwood,FB Reactor,Studz,fantasy" group="Headline"/>
		<atv:parameter defaultvalue="35" name="headlineFontSize" desc="font size" valuetype="number" behavior="optional" group="Headline"/>
		<atv:parameter defaultvalue="bold" name="headlineFontWeight" desc="font weight" valuetype="enum" scope="" behavior="optional" config="normal;bold" group="Headline"/>
		<atv:parameter defaultvalue="left" name="headlineHorizontalAlign" desc="horizontal alignment" valuetype="enum" behavior="optional" config="left;right;center" group="Headline"/>
		<atv:parameter defaultvalue="middle" name="headlineVerticalAlign" desc="vertical alignment" valuetype="enum" behavior="optional" config="top;middle;bottom" group="Headline"/>
		<atv:parameter defaultvalue="Message line 1" name="msg1" desc="message line 1" valuetype="string" substitute="$MSG1$" behavior="optional" group="Message"/>
		<atv:parameter defaultvalue="" name="msg2" desc="message line 2" valuetype="string" substitute="$MSG2$" behavior="optional" group="Message"/>
		<atv:parameter defaultvalue="" name="msg3" desc="message line 3" valuetype="string" substitute="$MSG3$" behavior="optional" group="Message"/>
		<atv:parameter defaultvalue="Arial" name="messageFontFamily" desc="font family" valuetype="enum" behavior="optional" config="Times New Roman=Times New Roman,Bodoni,Garamond,Minion Web,ITC Stone Serif,MS Georgia,Bitstream Cyberbit,serif;Arial=MS Trebuchet,ITC Avant Garde Gothic,MS Arial,MS Verdana,Univers,Futura,ITC Stone Sans,Gill Sans,Akzidenz Grotesk,Helvetica,sans-serif;Courier=Courier,MS Courier New,Prestige,Everson Mono,monospace;Zapf-Chancery=Caflisch Script,Adobe Poetica,Sanvito,Ex Ponto,Snell Roundhand,Zapf-Chancery,cursive;Alpha Geometrique=Alpha Geometrique,Critter,Cottonwood,FB Reactor,Studz,fantasy" group="Message"/>
		<atv:parameter defaultvalue="25" name="messageFontSize" desc="font size" valuetype="number" behavior="optional" group="Message"/>
		<atv:parameter defaultvalue="normal" name="messageFontWeight" desc="font weight" valuetype="enum" scope="" behavior="optional" config="normal;bold" group="Message"/>
		<atv:parameter defaultvalue="left" name="messageHorizontalAlign" desc="horizontal alignment" valuetype="enum" behavior="optional" config="left;right;center" group="Message"/>
		<atv:parameter defaultvalue="top" name="messageVerticalAlign" desc="vertical alignment" valuetype="enum" behavior="optional" config="top;middle;bottom" group="Message"/>
		<atv:parameter defaultvalue="Button One" name="btn1" desc="text of button 1" valuetype="string" behavior="optional" group="Buttons"/>
		<atv:parameter defaultvalue="Button Two" name="btn2" desc="text of button 2" valuetype="string" behavior="optional" group="Buttons"/>
		<atv:parameter defaultvalue="" name="action_btn1" desc="action of button 1" valuetype="string" behavior="optional" group="Buttons"/>
		<atv:parameter defaultvalue="" name="action_btn2" desc="action of button 2" valuetype="string" behavior="optional" group="Buttons"/>
		<atv:parameter defaultvalue="36" name="buttonFontSize" desc="font size" valuetype="number" behavior="optional" group="Button"/>
		<atv:parameter defaultvalue="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Symbols.20x20.info" name="symbol" desc="symbol" valuetype="string" substitute="$SYMBOL$" behavior="optional" group="Symbol"/>
		<atv:parameter defaultvalue="SYSTEM.GLOBALS.atvSymbolColor" name="symbolColor" desc="symbol color" valuetype="global" substitute="$SYMBOLCOLOR$" behavior="optional" group="Symbol"/>
		<atv:parameter defaultvalue="#ffffff" name="backgroundColor" desc="background color" valuetype="string" substitute="$BGCOLOR$" behavior="optional" group="Appearance"/>
		<atv:gridconfig gridstyle="lines" enabled="true" width="10" height="10"/>
		<atv:snapconfig enabled="true" width="10" height="10"/>
	</metadata>
	<rect atv:refpx="450" fill="$BGCOLOR$" y="0" stroke="none" atv:refpy="270" stroke-width="2" id="id_3" height="540" width="900" x="0"/>
	<svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.label" transform="matrix(9.625,0,0,3,0,0)" atv:refpx="485.005" y="3.333" atv:refpy="55" id="label" height="30" width="80" x="10.39">
		<atv:argument value="" name="text" prefix="headline"/>
		<atv:argument name="vertical-align" prefix="headlineVerticalAlign"/>
		<atv:argument value="" name="font-size" prefix="headlineFontSize"/>
		<atv:argument name="font-weight" prefix="headlineFontWeight"/>
		<atv:argument name="font-family" prefix="headlineFontFamily"/>
		<atv:argument value="SYSTEM.GLOBALS.atvFontColor" name="color"/>
		<atv:argument name="horizontal-align" prefix="headlineHorizontalAlign"/>
	</svg>
	<svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.label" transform="matrix(10.5,0,0,7,0,0)" atv:refpx="450.002" y="14.286" atv:refpy="204.999" id="labelMsg1" height="30" width="80" x="2.857">
		<atv:argument name="text" prefix="msg1"/>
		<atv:argument name="font-size" prefix="messageFontSize"/>
		<atv:argument name="horizontal-align" prefix="messageHorizontalAlign"/>
		<atv:argument name="vertical-align" prefix="messageVerticalAlign"/>
		<atv:argument name="font-weight" prefix="messageFontWeight"/>
		<atv:argument name="font-family" prefix="messageFontFamily"/>
		<atv:argument value="SYSTEM.GLOBALS.atvFontColor" name="color"/>
	</svg>
	<svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.label" transform="matrix(10.5,0,0,5.6666,0,0)" atv:refpx="450.006" y="24.706" atv:refpy="224.999" id="labelMsg2" height="30" width="80" x="2.857">
		<atv:argument value="" name="text" prefix="msg2"/>
		<atv:argument value="" name="font-size" prefix="messageFontSize"/>
		<atv:argument name="horizontal-align" prefix="messageHorizontalAlign"/>
		<atv:argument name="vertical-align" prefix="messageVerticalAlign"/>
		<atv:argument name="font-weight" prefix="messageFontWeight"/>
		<atv:argument name="font-family" prefix="messageFontFamily"/>
		<atv:argument value="SYSTEM.GLOBALS.atvFontColor" name="color"/>
	</svg>
	<svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.button" transform="matrix(7.5,0,0,2.6667,0,0)" atv:refpx="156.274" y="153.75" atv:refpy="410.803" id="button2" height="30" width="80" x="20">
		<atv:argument value="" name="label" prefix="btn2"/>
		<atv:argument name="fontSize" prefix="buttonFontSize"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.3,0,0)" id="id_2" height="94.499" width="594.5"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.3,0,0)" id="id_0" height="99.499" width="599.5"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="id_1" height="80" width="600"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="id_6" height="78.001" width="598"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" y="30.001" id="button_symbol" x="290"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" y="44.501" baseline-shift="-25%" id="button_label" x="300"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="button_stroke" height="76.001" width="596"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="button_bg" height="78.001" width="598"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="outer_frame" height="80.001" width="600"/>
	</svg>
	<svg xlink:href="$SYMBOL$" transform="matrix(3.2371,0,0,3.2371,0,0)" atv:refpx="55.086" y="6.592" atv:refpy="53.709" id="symbol" height="20" width="20" x="7.017">
		<atv:argument value="" name="symbolColor" prefix="symbolColor"/>
	</svg>
	<svg xlink:href="SYSTEM.LIBRARY.ATVISE.OBJECTDISPLAYS.Advanced.button" transform="matrix(7.5,0,0,2.6667,0,0)" atv:refpx="440.998" y="119.999" atv:refpy="336.803" id="button1" height="30" width="80" x="20">
		<atv:argument value="" name="label" prefix="btn1"/>
		<atv:argument name="fontSize" prefix="buttonFontSize"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.3,0,0)" id="id_2" height="94.499" width="594.5"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.3,0,0)" id="id_0" height="99.499" width="599.5"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="id_1" height="80" width="600"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="id_6" height="78.001" width="598"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" y="30.001" id="button_symbol" x="290"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" y="44.501" baseline-shift="-25%" id="button_label" x="300"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="button_stroke" height="76.001" width="596"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="button_bg" height="78.001" width="598"/>
		<atv:overwrite transform="matrix(0.1333,0,0,0.375,0,0)" id="outer_frame" height="80.001" width="600"/>
	</svg>
	<script type="text/ecmascript"><![CDATA[/* set values for portal */
var button1_label = document.getElementById("button1_button_label");
webMI.gfx.setText(button1_label, webMI.query["btn1"]);
var button2_label = document.getElementById("button2_button_label");
webMI.gfx.setText(button2_label, webMI.query["btn2"]);
button1_label.style.fontSize = webMI.query["buttonFontSize"];
button2_label.style.fontSize = webMI.query["buttonFontSize"];

if(webMI.query.btn2 == "undefined" && webMI.query.action_btn2 == "undefined") {
	var button1 = document.getElementById("button1");
	var button2 = document.getElementById("button2");
	webMI.gfx.setVisible("button2", false);
	button1.setAttribute("y", button2.getAttribute("y"));
}

webMI.trigger.connect("clicked", function(e) {
	if (typeof webMI.query.action_btn1 == "undefined" || webMI.query.action_btn1 == "")
		webMI.display.closeWindow();
	else
		webMI.trigger.fire(webMI.query.action_btn1, this);
}, "button1");

webMI.trigger.connect("clicked", function(e) {
	if (typeof webMI.query.action_btn2 == "undefined" || webMI.query.action_btn2 == "")
		webMI.display.closeWindow();
	else
		webMI.trigger.fire(webMI.query.action_btn2, this);
}, "button2");

/* this is primary for redu status changes */
webMI.trigger.connect("com.atvise.dialogMessageChanged", function(e) {
	e.msg = JSON.parse(e.value);

	if(!e.msg.msg1)
		e.msg.msg1 = "";
	if(!e.msg.msg2)
		e.msg.msg2 = "";
	if(!e.msg.btn1)
		e.msg.btn1 = false;
	if(!e.msg.btn2)
		e.msg.btn2 = false;

	webMI.trigger.fire("com.atvise.labelMessageChanged", e.msg.msg1, "labelMsg1");
	webMI.trigger.fire("com.atvise.labelMessageChanged", e.msg.msg2, "labelMsg2");

	if(e.msg.btn1){
		webMI.gfx.setText(button1_label, e.msg.btn1);
		webMI.gfx.setVisible("button1", true);
	} else {
		webMI.gfx.setVisible("button1", false);
	}

	if(e.msg.btn2){
		webMI.gfx.setText(button2_label, e.msg.btn2);
		webMI.gfx.setVisible("button2", true);
	} else {
		webMI.gfx.setVisible("button2", false);
	}

});]]></script>
</svg>
