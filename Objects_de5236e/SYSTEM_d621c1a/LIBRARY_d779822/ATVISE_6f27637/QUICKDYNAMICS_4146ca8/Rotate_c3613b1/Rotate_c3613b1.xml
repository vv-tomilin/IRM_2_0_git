<?xml version="1.0" encoding="UTF-8"?>
<script>
  <metadata>
	<icon type="image/png">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</icon>
	<visible>1</visible>
	<title>Rotate</title>
	<description>Rotates an element according to a node value.</description>
  </metadata>
  <parameter name="nodeId" description="node triggering the change" valuetype="address" defaultvalue="" config="" behavior="optional" group=""/>
  <parameter name="minValue" description="min value" valuetype="number" defaultvalue="0" config="" behavior="optional" group=""/>
  <parameter name="maxValue" description="max value" valuetype="number" defaultvalue="100" config="" behavior="optional" group=""/>
  <parameter name="startAngle" description="start angle" valuetype="number" defaultvalue="0" config="" behavior="optional" group=""/>
  <parameter name="stopAngle" description="stop angle" valuetype="number" defaultvalue="360" config="" behavior="optional" group=""/>
  <code><![CDATA[// This Quick Dynamic rotates the applied graphical element depending on the value of the defined node and the ranged defined by "startAngle" and "stopAngle", i.e. the
// range defined by "minValue" and "maxValue" will be translated to the range defined by "startAngle" and "stopAngle".
// e.g.: the defined range of the value from 0 (=minValue) to 100 (=maxValue) will be translated to 0 (=startAngle) to 360Â° (=stopAngle)
// Parameters:
//	nodeId:		this node triggers this Quick Dynamic
//	minValue:	lower bound of the range where the node's value should lie in
//	maxValue:	upper bound of the range where the node's value should lie in
//	startAngle:	start position for the rotation where "minValue" will be translated to
//	stopAngle:	stop position for the rotation where "maxValue" will be translated to
var AggregateManager = webMI.callExtension("SYSTEM.LIBRARY.ATVISE.QUICKDYNAMICS.Aggregate Manager");
webMI.addOnunload(function unloadAggregateManager() {
	AggregateManager.destroy();
	AggregateManager = null;
});

AggregateManager.subscribeNodeOrAggregate(base.nodeId, handleResult);

function handleResult(e) {
	var value = e.value;
	webMI.gfx.setRotation(base.id, webMI.translate(value, base.minValue, base.maxValue, base.startAngle, base.stopAngle));
}
]]></code>
</script>
