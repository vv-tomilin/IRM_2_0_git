<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="65" version="1.2" width="165" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs>
  <linearGradient gradientUnits="objectBoundingBox" id="linear_0" x1="0" x2="1" y1="0" y2="1">
   <stop offset="0" stop-color="#ffffff"/>
   <stop offset="1" stop-color="#00c800"/>
  </linearGradient>
  <linearGradient gradientUnits="objectBoundingBox" id="linear_2" x1="0" x2="1" y1="0" y2="1">
   <stop offset="0" stop-color="#ffffff"/>
   <stop offset="1" stop-color="#00c800"/>
  </linearGradient>
 </defs>
 <metadata>
  <atv:parameter behavior="mandatory" defaultvalue="" desc="Name" name="Name" substitute="#NAME#" valuetype="address"/>
  <atv:parameter behavior="mandatory" defaultvalue="Состояние" desc="Label1" name="Label1" substitute="#LABEL1#" valuetype="string"/>
  <atv:parameter behavior="mandatory" desc="Value1" name="Value1" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" desc="Unit1" name="Unit1" substitute="#UN1#" valuetype="string"/>
  <atv:parameter behavior="mandatory" defaultvalue="Наработка" desc="Label2" name="Label2" substitute="#LABEL2#" valuetype="string"/>
  <atv:parameter behavior="mandatory" defaultvalue="" desc="Value2" name="Value2" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="ч" desc="Unit2" name="Unit2" substitute="#UN2#" valuetype="string"/>
  <atv:parameter behavior="mandatory" defaultvalue="Дата поверки" desc="Label3" name="Label3" substitute="#LABEL3#" valuetype="string"/>
  <atv:parameter behavior="mandatory" defaultvalue="20-12-2020" desc="Value3" name="Value3" substitute="#VALUE3#" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="" desc="Unit3" name="Unit3" substitute="#UN3#" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="" name="Low1" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="High1" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="LowLow1" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="HighHigh1" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="" name="Low2" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="High2" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="LowLow2" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="HighHigh2" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="Low3" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="High3" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="LowLow3" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="" name="HighHigh3" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.ColorStatus.statusNormal" group="Status" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.ColorStatus.statusUncertain" group="Status" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.ColorStatus.statusBad" group="Status" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.ColorStatus.statusUnknown" group="Status" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="" name="adding_str1" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="" name="adding_str2" valuetype="string"/>
  <atv:gridconfig enabled="true" gridstyle="lines" height="2" width="2"/>
  <atv:snapconfig enabled="true" height="2" width="2"/>
 </metadata>
 <g atv:insensitive="true" atv:refpx="0" atv:refpy="0" id="id_0" transform="matrix(1,0,0,0.9285,0,0)">
  <rect atv:refpx="82.5" atv:refpy="35" fill="#ffffff" fill-opacity="0" height="70.00" id="id_1" width="165.00" x="0" y="0"/>
 </g>
 <rect atv:refpx="82.5" atv:refpy="42.5" fill="#4b5e6c" height="45" id="id_3" stroke="#8a8a8a" stroke-width="0" width="165" x="0" y="20"/>
 <rect atv:refpx="82.5" atv:refpy="9" fill="#4b5e6c" height="18" id="id_4" rx="0" ry="0" stroke="#8a8a8a" stroke-width="0" width="165" x="0" y="0"/>
 <rect atv:refpx="82.5" atv:refpy="11.602" fill="none" height="22" id="id_26" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="163" x="1" y="0.602"/>
 <rect atv:refpx="50.999" atv:refpy="30.102" fill="none" font-size="10" height="15" id="id_27" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="100" x="1" y="23.602"/>
 <rect atv:refpx="118.499" atv:refpy="30.102" fill="none" height="15" id="id_28" stroke="#e1e1e1" stroke-width="0" width="37" x="100" y="23.602"/>
 <rect atv:refpx="-11.703" atv:refpy="0.061" fill="none" height="15" id="id_29" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="27" x="137" y="23.602"/>
 <text atv:refpx="103.856" atv:refpy="9.898" fill="#ffffff" font-family="Arial" font-size="12" font-weight="bold" id="id_30" text-anchor="middle" x="103.5" y="14">#NAME#</text>
 <text atv:refpx="23.604" atv:refpy="24.5" fill="#cdcdcd" font-family="Arial" font-size="10" id="id_31" text-anchor="start" x="1.5" y="29">#LABEL1#</text>
 <rect atv:refpx="50.999" atv:refpy="44.752" fill="none" font-size="10" height="15" id="id_70" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="100" x="1" y="40.253"/>
 <rect atv:refpx="118.499" atv:refpy="44.752" fill="none" font-size="10" height="15" id="id_71" stroke="#e1e1e1" stroke-width="0" width="37" x="100" y="40.253"/>
 <rect atv:refpx="-11.703" atv:refpy="14.712" fill="none" font-size="10" height="15" id="id_72" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="27" x="137" y="40.253"/>
 <text atv:refpx="27.5" atv:refpy="40.5" fill="#cdcdcd" font-family="Arial" font-size="10" id="id_73" text-anchor="start" x="1.5" y="44">#LABEL2#</text>
 <text atv:refpx="118" atv:refpy="40.5" fill="#cdcdcd" font-family="Arial" font-size="10" id="id_74" text-anchor="middle" x="118" y="44">0</text>
 <text atv:refpx="149.232" atv:refpy="40.047" fill="#cdcdcd" font-family="Arial" font-size="10" id="id_75" text-anchor="middle" transform="matrix(0.8613,0,0,0.8225,19.9212,5.5025)" x="150.128" y="45">#UN2#</text>
 <rect atv:refpx="50.999" atv:refpy="59.752" fill="none" font-size="10" height="15" id="id_76" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="100" x="1" y="56.253"/>
 <rect atv:refpx="118.499" atv:refpy="59.752" fill="none" font-size="10" height="15" id="id_77" stroke="#e1e1e1" stroke-width="0" width="37" x="100" y="56.253"/>
 <rect atv:refpx="-11.703" atv:refpy="29.712" fill="none" font-size="10" height="15" id="id_78" stroke="#e1e1e1" stroke-linejoin="round" stroke-width="0" width="27" x="137" y="56.253"/>
 <text atv:refpx="34.5" atv:refpy="55.5" fill="#cdcdcd" font-family="Arial" font-size="10" id="id_79" text-anchor="start" x="1.5" y="59">#LABEL3#</text>
 <text atv:refpx="127" atv:refpy="55.5" fill="#cdcdcd" font-family="Arial" font-size="10" id="id_80" text-anchor="middle" x="127" y="59">#VALUE3#</text>
 <circle atv:refpx="144" atv:refpy="26.667" cx="144" cy="26" fill="url(#linear_2)" id="id_2" r="4" stroke="#00c800" stroke-width="0"/>
 <text atv:refpx="46" atv:refpy="9.5" fill="#ffffff" font-family="Arial" font-size="12" font-weight="bold" id="id_5" text-anchor="middle" x="46" y="14">Талевый канат</text>
 <text atv:refpx="128" atv:refpy="9.5" fill="#ffffff" font-family="Arial" font-size="12" font-weight="bold" id="id_6" text-anchor="middle" x="128" y="14">мм</text>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[

webMI.data.subscribe(webMI.query["Value2"], function(e) {
var id = "id_74";
var value = e.value/1000;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["Value3"], function(e) {
var id = "id_80";
var value = e.value;
webMI.gfx.setText(id, value);

});




webMI.data.subscribe(webMI.query["Value1"], function(e) {
var id = "id_2";
var value = e.value;
if (value == true)
	webMI.gfx.setFill(id, "#009600");
if (value == false)
	webMI.gfx.setFill(id, "#ff5500");

});


/*webMI.data.subscribe(webMI.query["Value1"], function(e) {
	var id = "id_4";
	
	var status = e.status;
	
	var nodeColorStatusArray = ["SYSTEM.GLOBALS.ColorStatus.statusNormal", "SYSTEM.GLOBALS.ColorStatus.statusUncertain", "SYSTEM.GLOBALS.ColorStatus.statusBad", "SYSTEM.GLOBALS.ColorStatus.statusUnknown" ];
	webMI.data.read(nodeColorStatusArray, function(a) {
		var ColorNormal = a[0].value;
		var ColorUncertain = a[1].value;
		var ColorBad = a[2].value;
		var ColorUnknown = a[3].value;
		
		if (status == 0 || (status & 0xC0000000).toString(16) == 0)	//Good value state
			webMI.gfx.setFill(id, ColorNormal);
		else if ((status & 0x80000000).toString(16) != 0)			//Bad value state
			webMI.gfx.setFill(id, ColorBad);
		else if ((status & 0xC0000000).toString(16) == 40000000)	//Uncertain value state
			webMI.gfx.setFill(id, ColorUncertain);
		else														//Unknown value state
			webMI.gfx.setFill(id, ColorUnknown);
		
	});
});*/


webMI.data.subscribe(webMI.query["Name"], function(e) {
var id = "id_30";
var value = e.value;
webMI.gfx.setText(id, value);

});

]]></script>
</svg>
