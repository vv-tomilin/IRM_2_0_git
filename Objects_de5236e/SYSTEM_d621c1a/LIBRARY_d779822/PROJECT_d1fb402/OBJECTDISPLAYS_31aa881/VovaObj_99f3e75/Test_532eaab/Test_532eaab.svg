<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="768" version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" width="1280" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs>
  <linearGradient id="linear_10" gradientUnits="objectBoundingBox" y2="0.520548" y1="0.520548" x1="0.493151" x2="0.534247">
   <stop stop-color="#2977ff" offset="0"/>
   <stop stop-opacity="0" stop-color="#2977ff" offset="1"/>
  </linearGradient>
  <linearGradient id="linear_8" gradientUnits="objectBoundingBox" y2="0.453125" y1="0.453125" x1="0.421875" x2="0.53125">
   <stop stop-color="#fbff00" offset="0"/>
   <stop stop-opacity="0" stop-color="#fbff00" offset="1"/>
  </linearGradient>
  <linearGradient id="linear_9" gradientUnits="objectBoundingBox" y2="0.506849" y1="0.506849" x1="0.424658" x2="0.506849">
   <stop stop-color="#ff0c00" offset="0"/>
   <stop stop-opacity="0" stop-color="#ff0c00" offset="1"/>
  </linearGradient>
 </defs>
 <metadata>
  <atv:parameter defaultvalue="100" name="MaxValue" behavior="optional" valuetype="number"/>
  <atv:parameter defaultvalue="180" name="Angle" behavior="optional" valuetype="number"/>
  <atv:parameter defaultvalue="50" name="Bar" behavior="optional" valuetype="number"/>
  <atv:gridconfig enabled="false" height="20" width="20" gridstyle="lines"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <script type="text/ecmascript"><![CDATA[
//var max =webMI.query["MaxValue"];
//var need_angle = parseInt(webMI.query["Angle"]);
var yellowBar = document.getElementById("id_0")
//console.log(need_angle,max)
yellowBar.style.transition='20s ease'
//yellowBar.style.WebkitTransformOrigin = 'right center'
yellowBar.style.WebkitTransform = 'rotate(-180deg)'

/*
var bar = webMI.query["Bar"];
console.log(bar)
	console.log()
	console.log("her")
	var value = webMI.query["Bar"];
	yellowBar.style.transition = '0.5s ease'
	var str="rotate(-"+(180 - value/max*need_angle)+"deg)"
	//blue_circle.style.WebkitTransform = str
	console.log(value)
	console.log(str)
	yellowBar.style.transform = str
*/
	
]]></script>
 <svg xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.Test.test_bar" id="id_3" height="400" atv:refpx="781.574" atv:refpy="313.744" width="200" y="113.744" x="681.574"/>
</svg>
