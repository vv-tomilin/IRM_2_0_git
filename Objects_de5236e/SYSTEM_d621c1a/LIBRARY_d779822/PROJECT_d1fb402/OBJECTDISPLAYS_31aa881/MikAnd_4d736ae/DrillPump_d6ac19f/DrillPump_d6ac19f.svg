<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="880" version="1.2" width="455" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:parameter behavior="optional" defaultvalue="БУРОВОЙ НАСОС 1" name="Caption" substitute="$CAPTION$" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.DrillPumps.DrillPump1.DrillPumpName" desc="Название бурового насоса" group="Address" name="DrillPumpName" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.DrillPumps.DrillPump1.DrillPumpType" desc="Тип бурового насоса" group="Address" name="DrillPumpType" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.DrillPumps.DrillPump1.DrillPumpFillingRatio" desc="Коэф. наполнения" group="Address" name="DrillPumpFillingRatio" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.DrillPumps.DrillPump1.PistonDiameter" desc="Диаметр поршня" group="Address" name="PistonDiameter" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.IVE50.Mud.Pump.StrokePump1" desc="Кол-во ходов в минуту" group="Address" name="StrokePump" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.DrillPumps.DrillPump1.StemDiameter" desc="Диаметр штока" group="Address" name="StemDiameter" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="AGENT.OBJECTS.DrillPumps.DrillPump1.DrillPumpConsumption" desc="Расход, расчетный" group="Address" name="DrillPumpConsumption" valuetype="address"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.rigintel.DrillPumps.DrillPumpsNames" desc="Список, Буровые моторы" group="Global Lists" name="EnumListPumpNames" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.rigintel.DrillPumps.DrillPumpsTypes" desc="Список, Типы насосов" group="Global Lists" name="EnumListPumpTypes" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="SYSTEM.GLOBALS.rigintel.DrillPumps.DrillPumpsPistonDiameters" desc="Список, Диаметры поршня" group="Global Lists" name="EnumListPistonDiameters" valuetype="global"/>
  <atv:parameter behavior="optional" defaultvalue="false" name="StemDiameterVisible" substitute="$STEM$" valuetype="bool"/>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <rect atv:refpx="228.285" atv:refpy="438.651" fill="#363636" height="860" id="id_3" stroke="#363636" stroke-width="8" width="436.569" x="10" y="8.652"/>
 <foreignObject height="30" id="id_StemDiameter_bg" width="250" x="102.258" y="500">
  <div style="z-index:-10; display:flex; justify-content:center; align-items:center; width:100%;height:100%;background-color:#bcbcbc;border-radius:5px;" xmlns="http://www.w3.org/1999/xhtml">
-
</div>
 </foreignObject>
 <text atv:refpx="189.048" atv:refpy="49.695" fill="#ffffff" font-family="Arial" font-size="18" font-weight="bold" id="id_14" transform="matrix(1.1967,0,0,1.1967,-23.0458,-5.7741)" x="122.662" y="50.855">$CAPTION$</text>
 <text atv:refpx="222.253" atv:refpy="146.156" fill="#ffffff" font-family="Arial" font-size="15" id="id_15" transform="matrix(1.1967,0,0,1.1967,-25.8705,-25.571)" x="136.023" y="148">Наименование насоса</text>
 <text atv:refpx="223.197" atv:refpy="226.155" fill="#ffffff" font-family="Arial" font-size="15" id="id_16" transform="matrix(1.1967,0,0,1.1967,-34.8153,-41.307)" x="181.497" y="228">Тип насоса</text>
 <text atv:refpx="220.52" atv:refpy="316.801" fill="#ffffff" font-family="Arial" font-size="15" id="id_17" transform="matrix(1.1967,0,0,1.1967,-22.6927,-59.1369)" x="119.867" y="318.645">Коэффициент наполнения</text>
 <text atv:refpx="221.314" atv:refpy="396.801" fill="#ffffff" font-family="Arial" font-size="15" id="id_18" transform="matrix(1.1967,0,0,1.1967,-30.3429,-74.8729)" x="158.76" y="398.645">Диаметр поршня</text>
 <text atv:refpx="216.208" atv:refpy="576.156" fill="#ffffff" font-family="Arial" font-size="15" id="id_19" transform="matrix(1.1967,0,0,1.1967,-23.7995,-110.152)" x="125.494" y="578">Число ходов (ходы/мин)</text>
 <text atv:refpx="221.026" atv:refpy="486.156" fill="#ffffff" font-family="Arial" font-size="15" id="id_20" transform="matrix(1.1967,0,0,1.1967,-31.5674,-92.449)" x="164.985" y="488">Диаметр штока</text>
 <text atv:refpx="217.728" atv:refpy="666.801" fill="#ffffff" font-family="Arial" font-size="15" id="id_21" transform="matrix(1.1967,0,0,1.1967,-24.741,-127.9819)" x="130.28" y="668.645">Расход расчетный (л/c)</text>
 <svg atv:refpx="227.26" atv:refpy="346.145" height="31" id="id_9" transform="matrix(3.125,0,0,1,0,0)" width="80" x="32.723" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.EditableLabel_rig1" y="330.645">
  <atv:argument name="enumList" prefix=""/>
  <atv:argument name="base" prefix="DrillPumpFillingRatio"/>
  <atv:argument name="postDecimal" value="2"/>
  <atv:overwrite id="input_label" transform="matrix(0.32,0,0,1,0,0)" x="125"/>
  <atv:overwrite id="input_bg" transform="matrix(0.32,0,0,1,0,0)" width="249"/>
  <atv:overwrite id="blinking_frame" transform="matrix(0.32,0,0,1,0,0)" width="322.326"/>
 </svg>
 <svg atv:refpx="227.26" atv:refpy="606.145" height="31" id="id_10" transform="matrix(3.125,0,0,1,0,0)" width="80" x="32.723" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.EditableLabel_rig1" y="590.645">
  <atv:argument name="editable" value="No"/>
  <atv:argument name="enumList" prefix=""/>
  <atv:argument name="base" prefix="StrokePump"/>
  <atv:argument name="postDecimal" value="2"/>
  <atv:argument name="fillNotEditable" value="#bcbcbc"/>
  <atv:overwrite id="input_label" transform="matrix(0.32,0,0,1,0,0)" x="125"/>
  <atv:overwrite id="input_bg" transform="matrix(0.32,0,0,1,0,0)" width="249"/>
  <atv:overwrite id="blinking_frame" transform="matrix(0.32,0,0,1,0,0)" width="322.326"/>
 </svg>
 <svg atv:refpx="227.26" atv:refpy="696.79" height="31" id="id_12" transform="matrix(3.125,0,0,1,0,0)" width="80" x="32.723" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.EditableLabel_rig1" y="681.29">
  <atv:argument name="editable" value="No"/>
  <atv:argument name="enumList" prefix=""/>
  <atv:argument name="base" prefix="DrillPumpConsumption"/>
  <atv:argument name="postDecimal" value="2"/>
  <atv:argument name="fillNotEditable" value="#bebebe"/>
  <atv:overwrite id="input_label" transform="matrix(0.32,0,0,1,0,0)" x="125"/>
  <atv:overwrite id="input_bg" transform="matrix(0.32,0,0,1,0,0)" width="249"/>
  <atv:overwrite id="blinking_frame" transform="matrix(0.32,0,0,1,0,0)" width="322.326"/>
 </svg>
 <svg atv:refpx="227.258" atv:refpy="175.5" height="31" id="id_11" width="250" x="102.258" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.Combobox_rig" y="160">
  <atv:argument name="base" prefix="DrillPumpName"/>
  <atv:argument name="enumList" prefix="EnumListPumpNames"/>
  <atv:overwrite id="combobox_label" transform="matrix(0.9681,0,0,0.9777,0.2785,0.0741)"/>
 </svg>
 <svg atv:refpx="227.258" atv:refpy="425.5" height="31" id="id_22" width="250" x="102.258" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.Combobox_rig" y="410">
  <atv:argument name="enumList" prefix="EnumListPistonDiameters"/>
  <atv:argument name="base" prefix="PistonDiameter"/>
  <atv:overwrite id="combobox_label" transform="matrix(0.9681,0,0,0.9777,0.2785,0.0741)"/>
 </svg>
 <svg atv:refpx="227.258" atv:refpy="255.5" height="31" id="id_26" width="250" x="102.258" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.Combobox_rig" y="240">
  <atv:argument name="base" prefix="DrillPumpType"/>
  <atv:argument name="enumList" prefix="EnumListPumpTypes"/>
  <atv:argument name="pointerEvents" value="none"/>
  <atv:argument name="fill" value="#dedede"/>
  <atv:argument name="fillColorInactive" value="#bcbcbc"/>
  <atv:overwrite id="combobox_label" transform="matrix(0.9681,0,0,0.9777,0.2785,0.0741)"/>
 </svg>
 <svg atv:refpx="227.259" atv:refpy="515.5" height="31" id="id_StemDiameter" transform="matrix(3.125,0,0,1,0,0)" width="80" x="32.723" xlink:href="SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS.MikAnd.EditableLabel_rig1" y="500">
  <atv:argument name="enumList" prefix=""/>
  <atv:argument name="base" prefix="StemDiameter"/>
  <atv:argument name="editable" prefix="StemDiameterVisible"/>
  <atv:overwrite id="input_label" transform="matrix(0.32,0,0,1,0,0)" x="125"/>
  <atv:overwrite id="input_bg" transform="matrix(0.32,0,0,1,0,0)" width="249"/>
  <atv:overwrite id="blinking_frame" transform="matrix(0.32,0,0,1,0,0)" width="322.326"/>
 </svg>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[webMI.libraryLoader.load([], [""], function (e) {
  var dataPumpName = webMI.query["DrillPumpName"]

  webMI.data.subscribe(dataPumpName, function (e) {
    var pumpName = e.value

    var objEnumListPumpNames = webMI.query["EnumListPumpNames"] // списки с заданными именами буровых насосов
    var arrNames = Object.values(objEnumListPumpNames)
    if (Array.isArray(arrNames)) {
      var objIsExist = arrNames.filter( function(el){return el.value === pumpName} )
      if (objIsExist.length > 0) {
        var dataDrillPumpType = webMI.query["DrillPumpType"]
        webMI.data.write(dataDrillPumpType, objIsExist[0].type)
      }
    }
  })


  var dataDrillPumpType = webMI.query["DrillPumpType"]
  webMI.data.subscribe(dataDrillPumpType, function (e) {
	var statusTriplex = (e.value.toUpperCase() === "TRIPLEX") // выбран тип насоса TRIPLEX
    webMI.gfx.setVisible("id_StemDiameter",  !statusTriplex);
    webMI.gfx.setVisible("id_StemDiameter_bg", statusTriplex );
})

})

]]></script>
</svg>
